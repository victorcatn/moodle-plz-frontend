<mat-card class="mat-card" *ngIf="project">
  <mat-card-title>Project name</mat-card-title>
  <mat-card-content>
    <mat-form-field class="mat-form-field-input">
      <input matInput placeholder="register project name" type="text" required [(ngModel)]="project.name" class="mat-input-element">
    </mat-form-field>
  </mat-card-content>
</mat-card>

<mat-card class="mat-card-date" *ngIf="project">
  <mat-card-title>Start date</mat-card-title>
  <mat-card-content>
    <mat-slide-toggle (toggleChange)="slideStartChange()" color="primary">
    </mat-slide-toggle>
  </mat-card-content>
  <mat-card-content *ngIf="slideStart">

    <mat-form-field>
      <input matInput [matDatepicker]="picker" placeholder="Choose a date" [(ngModel)]="project.startDate">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </mat-card-content>
</mat-card>

<mat-card class="mat-card-date">
  <mat-card-title>End date</mat-card-title>
  <mat-card-content>
    <mat-slide-toggle (toggleChange)="slideEndChange()" color="primary">
    </mat-slide-toggle>
  </mat-card-content>
  <mat-card-content *ngIf="slideEnd">

    <mat-form-field>
      <input matInput [matDatepicker]="picker" placeholder="Choose a date" [(ngModel)]="project.endDate">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

  </mat-card-content>
</mat-card>

<mat-card>
<mat-card-title>Skills and knowledges needed</mat-card-title>
<mat-card-content>
  <mat-accordion class="mat-accordion">

    <mat-expansion-panel *ngIf="skillAll" >
      <mat-expansion-panel-header>
        <mat-panel-title>Skills</mat-panel-title>
        <mat-panel-description>Show needed skills</mat-panel-description>
      </mat-expansion-panel-header>


          <mat-card class="skill-card" *ngFor="let skill of skillAll">
            <mat-card-title>{{skill.name}}</mat-card-title>
            <mat-card-content>
              <mat-form-field class="mat-form-field-input">
              <input matInput placeholder="set score 10-100" type="number"  [(ngModel)]="skill.score" class="mat-input-element"
              min="10" max="100" required>
              </mat-form-field>
            </mat-card-content>
            <mat-card-actions>
              <button mat-mini-fab color ="primary" (click)="deleteSkill(skill.skillId)">
                <mat-icon aria-label="Delete skill">
                  delete
                </mat-icon>
              </button>
            </mat-card-actions>
          </mat-card>

    </mat-expansion-panel>

    <mat-expansion-panel *ngIf="knowledgeAll">
      <mat-expansion-panel-header>
        <mat-panel-title>Knowledges</mat-panel-title>
        <mat-panel-description>Show needed knowledges</mat-panel-description>
      </mat-expansion-panel-header>

      <mat-card class="skill-card" *ngFor="let knowledge of knowledgeAll">
        <mat-card-title>{{knowledge.name}}</mat-card-title>
        <mat-card-content>
          <mat-form-field class="mat-form-field-input">
          <input matInput placeholder="set score" type="number" required [(ngModel)]="knowledge.score" class="mat-input-element"
          min="10" max="100">
          </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
          <button mat-mini-fab color ="primary">
            <mat-icon aria-label="Delete project">
              delete
            </mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>


    </mat-expansion-panel>
  </mat-accordion>
</mat-card-content>
</mat-card>

<mat-card>
  <mat-card-title>Add new needed skills</mat-card-title>
<mat-card-content>
  <mat-slide-toggle (toggleChange)="slideSkillChange()" color="primary">
  </mat-slide-toggle>
</mat-card-content>


<mat-horizontal-stepper linear #stepper *ngIf="slideSkill">
  <mat-step [stepControl]="skillSelection">
    <form [formGroup]="skillSelection">
      <ng-template matStepLabel>Select skills</ng-template>
      <mat-form-field>
        <mat-select placeholder="Skill" name="skill" formControlName="skillSelection" multiple >
          <mat-option *ngFor="let skill of skills" [value]=skill>
            {{skill.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <button mat-button matStepperNext (click)="generateNeededSkills()" class="mat-button" color="primary">Next</button>
      </div>
    </form>
  </mat-step>

  <mat-step [stepControl]="skillScoreG">
    <form [formGroup]="skillScoreG">
      <ng-template matStepLabel>Register score</ng-template>
      <mat-card *ngFor="let skill of neededSkills" class="mat-card" >
        <mat-card-title>{{skill.name}} score</mat-card-title>
        <mat-card-content>
          <mat-form-field class="mat-form-field-input">
            <input matInput type="number" placeholder="Score 10-100" min="10" max="100" [id]="skill.id" >
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </form>
  </mat-step>

</mat-horizontal-stepper>
</mat-card>

<mat-card>
  <mat-card-title>Add new needed skills</mat-card-title>
<mat-card-content>
  <mat-slide-toggle (toggleChange)="slideKnowledgeChange()" color="primary">
  </mat-slide-toggle>
</mat-card-content>


<mat-horizontal-stepper linear #stepper2 *ngIf="slideKnowledge">
  <mat-step [stepControl]="knowledgeSelection">
    <form [formGroup]="knowledgeSelection">
      <ng-template matStepLabel>Select knowledges</ng-template>
      <mat-form-field>
        <mat-select placeholder="Knowledge" name="knowledge" formControlName="knowledgeSelection" multiple>
          <mat-option *ngFor="let knowledge of knowledges" [value]=knowledge>
            {{knowledge.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <button mat-button matStepperNext (click)="generateNeededKnowledges()" class="mat-button" color="primary">Next</button>
      </div>
    </form>
  </mat-step>

  <mat-step [stepControl]="knowledgeScoreG">
    <form [formGroup]="knowledgeScoreG">
      <ng-template matStepLabel>Register score</ng-template>
      <mat-card *ngFor="let knowledge of neededKnowledges" class="mat-card" >
        <mat-card-title>{{knowledge.name}} score</mat-card-title>
        <mat-card-content>
          <mat-form-field class="mat-form-field-input">
            <input matInput type="number" placeholder="Score 10-100" min="10" max="100" [id]="knowledge.id">
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </form>
  </mat-step>

</mat-horizontal-stepper>
</mat-card>

<button mat-fab color="primary" class="fav-save-project" (click)="saveProject()" routerLink="../../">
  <mat-icon aria-label="save new project">save</mat-icon>
</button>

<mat-divider></mat-divider>
<p>


</p>


